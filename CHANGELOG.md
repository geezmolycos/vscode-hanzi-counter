# Change Log

All notable changes to the "vscode-hanzi-counter" extension will be documented in this file.

## TODO

- 加入统计字数扩展比较和在线工具比较
- 加配置编写教程
- twitter character count
- 日本语较准确的「原稿用紙換算」
- UTF-8 大小使用MKB等字母表示
- 发布到open vsx上
- 更改统计的描述

## [1.3.1]

- 使用 Segmenter 的正则表达式也可以正常高亮了
  - 若该正则匹配 segment 标记字符，则会高亮整个 segment
  - 受算法性能限制，限制最大文本长度到 200000 (UTF-16，使用 substring 方法)，极罕见的情况下可能会产生半个surrogate pair

## [1.3.0] - 2023-03-08

- 为正则表达式加入匹配 Grapheme cluster / word / sentence 的选项
  - 使用正则表达式的命名表示需要不需要开启分词器
  - 使用 U+fdd0 和 U+fdd1 表示非单词边界和单词边界
- 更改默认字符数为 grapheme cluster 数，另外提供 codepoint 数

## [1.2.0] - 2023-02-25

- 加入日语、(朝鲜语/韩语)匹配规则
- 加入更多自带的匹配规则，涵盖 unicode 各 General Category，以便使用
- 加入tooltip分页，功能概览页显示设置链接，快速进入设置
  - 功能概览提供简要的说明和快速教程
- 加入日语韩语简介
- 现在找不到模板或者模板代码出错，会弹出错误提示
- 更改高亮的风格，改成粗的下划线

## [1.1.0] - 2023-02-24

- 加入高亮指定正则匹配的指令，可以在模板中加入指令，点击以后在文件中高亮此项的匹配
  - 为了性能考虑，一次最多能高亮20000个区间，如果超过了20000个，再安排20000个到可视区间里
  - 可以一次高亮多种类型的文字，会使用多种颜色区分这些文字。例如可以把中文和中文标点分开高亮
- 给模板代码加入环境this，可以用来记录变量。比如预先生成的查找表就可以缓存到this中。

## [1.0.0] - 2023-02-13

- 为每个打开的文档建立一个DocumentCounter的实例，按行缓存各正则表达式统计的字数，提高性能
  - 只在文件打开、保存时统计全文字数
  - 修改时只统计修改部分的字数，并更新全文字数
  - 在编辑字数很多的文件时，性能有显著提升
- 修复了建立多个选区时字数统计只考虑第一个选区的问题
- 增加启用禁用设置项，可以指定仅某语言下启用
  - 例如可以仅在编辑markdown时显示统计字数
- tooltip的模板可以添加任意个，使用指令链接切换
  - 例如分别设置中文统计、日文统计、英文统计的tooltip模板，显示对应的内容
- 分离了源码文件，更改了vscode导入方式，更加方便维护
- MIT License

## [0.1.1] - 2023-02-09

- 缩减中文标点符号范围，缩减到Script_extensions为Han或Common，且分类为P、S、N的字符
- 增加启用禁用、调节状态栏显示的设置

## [0.1.0] - 2023-02-05

- 在状态栏上显示文档字数，tooltip 中显示详细信息，点击展开显示更详细信息
- 在设置中添加要统计字数的各类项目对应的正则表达式
- 在设置中通过 Javascript 函数自定义要显示的内容
- 默认设置添加统计项目：
  - 单词数
  - 总字符数
  - 非 ASCII 字符数
  - 中文字数（含标点和不含标点）
  - UTF-8 大小
